<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About HATPI</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="/static/images/favicon.png" type="image/x-icon">
</head>

<body>
    <!-- Top banner -->
    <header id="about-header">
        <a href="/" id="home-link">
            <img src="/static/images/hatpi_logo.jpeg" alt="Home" class="home-icon">
        </a>
    </header>

    <!-- About page navigation -->
    <div id="about-page-navigation">
        <a href="#history" id="history-link" class="about-nav-link">History of HATPI</a>
        <span class="vertical-pipe"></span>
        <a href="#key-science" id="key-science-link" class="about-nav-link">Key Science</a>
        <span class="vertical-pipe"></span>
        <a href="#photo-gallery" id="photo-gallery-link" class="about-nav-link">Photo Gallery</a>
    </div>

    <main>
        <!-- The History of HATPI Section -->
        <section id="history">
            <div class="history-container">
                <div class="timeline-container">
                    <div class="timeline-bar">
                        <a href="#inception" class="timeline-year" id="year-inception">2012</a>
                        <a href="#spring-2016" class="timeline-year" id="year-spring-2016">Spring 2016</a>
                        <a href="#summer-2016" class="timeline-year" id="year-summer-2016">Summer 2016</a>
                        <a href="#winter-2017" class="timeline-year" id="year-winter-2017">Winter 2017</a>
                        <a href="#summer-2017" class="timeline-year" id="year-summer-2017">Summer 2017</a>
                        <a href="#winter-2018" class="timeline-year" id="year-winter-2018">Winter 2018</a>
                    </div>
                </div>

                <!-- History Content -->
                <div class="history-content">
                    <!-- Inception Section -->
                    <div>
                        <h2 id="inception">Project Inception</h2>
                        <p>
                            <!-- Your inception content here -->
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna aliqua.
                        </p>
                    </div>

                    <!-- Spring 2016 Section -->
                    <div>
                        <h2 id="spring-2016">HATPI Building Construction Near Completion</h2>
                        <div class="history-section-content">
                            <div class="history-text">
                                <p>
                                    In Spring 2016, construction of the HATPI building at Las Campanas Observatory was
                                    nearly completed.
                                    The concrete pier for the equatorial mount had been poured and aligned.
                                    Plans were in place to install interior electrical components, power, HVAC, and
                                    internet
                                    connectivity.
                                    The facility consisted of two parts: a large instrument bay with a roll-off roof to
                                    house the HATPI instrument
                                    and allow for maintenance, and a shed containing a server room with computers to
                                    operate
                                    the telescope mount,
                                    acquire and analyze image frames, and store data. The shed also featured a small
                                    "observer's lounge"
                                    for maintenance personnel. Although HATPI was intended to operate autonomously,
                                    having on-site facilities for emergencies was considered useful.
                                </p>
                            </div>
                            <div class="history-image">
                                <img src="/static/images/spring_2016.jpg" alt="LCO Building">
                            </div>
                        </div>
                    </div>

                    <!-- Summer 2016 Section -->
                    <div>
                        <h2 id="summer-2016">Finalization of HATPI Mount and Instrument Holder Design</h2>
                        <div class="history-section-content">
                            <div class="history-text">
                                <p>
                                    In Summer 2016, the engineering design of the HATPI mount and instrument holder
                                    units
                                    was finalized.
                                    The plan was to use 63 lenses attached to low-profile back-illuminated CCD cameras,
                                    controlled by
                                    focus and fine-pointing actuators. The mount was designed as a stepped pyramid to
                                    allow
                                    easy access
                                    for maintenance personnel from above and below, coupled with a heavy-duty equatorial
                                    drive capable
                                    of handling several tons of moving instrument weight.
                                </p>
                            </div>
                            <div class="history-image">
                                <img src="/static/images/summer_2016_1.jpg" alt="Mount and Instrument Holder Design">
                            </div>
                        </div>
                    </div>

                    <!-- Winter 2017 Section -->
                    <div>
                        <h2 id="winter-2017">Completion of HATPI Mount</h2>
                        <div class="history-section-content">
                            <div class="history-text">
                                <p>
                                    By Winter 2017, the HATPI mount was completed and ready for integration with the
                                    rest of
                                    the instrument.
                                </p>
                            </div>
                            <div class="history-image">
                                <img src="/static/images/winter_2017.jpg" alt="Completion of HATPI Mount">
                            </div>
                        </div>
                    </div>

                    <!-- Summer 2017 Section -->
                    <div>
                        <h2 id="summer-2017">Mount Installation and Electronics Setup</h2>
                        <div class="history-section-content">
                            <div class="history-text">
                                <p>
                                    In early Summer 2017, the first stage of mount installation and electronics setup
                                    was
                                    completed,
                                    and integration of cameras and lenses into the instrument began. More installation
                                    trips
                                    were
                                    planned throughout the summer and fall as cameras and lenses continued to be
                                    delivered
                                    in batches.
                                </p>
                            </div>
                            <div class="history-image">
                                <video src="/static/images/hatpi-install.mp4" controls width="100%"
                                    alt="Mount Installation and Electronics Setup">
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                        </div>
                    </div>

                    <!-- Winter 2018 Section -->
                    <div>
                        <h2 id="winter-2018">On-Sky Testing Commences</h2>
                        <div class="history-section-content">
                            <div class="history-text">
                                <p>
                                    In Winter 2018, on-sky testing of HATPI began. The full instrument was integrated,
                                    and
                                    IHUs were
                                    being populated with lenses and cameras as they rolled off the assembly lines. The
                                    roof
                                    and mount
                                    operations had been automated, enabling HATPI to observe autonomously.
                                </p>
                            </div>
                            <div class="history-image">
                                <img src="/static/images/winter_2018.jpg" alt="On-Sky Testing Commences">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Timeline Bar -->

        </section>

        <!-- Key Science Section -->
        <section id="key-science">
            <h1>Key Science</h1>
            <p>
                Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam
                rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt
                explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia
                consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui
                dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora
                incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum
                exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem
                vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum
                qui dolorem eum fugiat quo voluptas nulla pariatur Sed ut perspiciatis unde omnis iste natus error sit
                voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore
                veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia
                voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione
                voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur,
                adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam
                quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit
                laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea
                voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas
                nulla pariatur
            </p>
        </section>

        <!-- Photo Gallery Section -->
        <section id="photo-gallery">
            <h1>Photo Gallery</h1>
            <div class="photo-gallery">
                <img src="/static/images/photo_gallery/1.jpg" alt="Gallery Image 1">
                <img src="/static/images/photo_gallery/2.jpg" alt="Gallery Image 2">
                <img src="/static/images/photo_gallery/3.jpg" alt="Gallery Image 3">
                <img src="/static/images/photo_gallery/4.JPG" alt="Gallery Image 4">
                <img src="/static/images/photo_gallery/5.jpg" alt="Gallery Image 5">
                <img src="/static/images/photo_gallery/6.JPG" alt="Gallery Image 6">
            </div>
        </section>
    </main>

    <!-- Script for dynamic active link -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.about-nav-link');
            const sections = document.querySelectorAll('section');

            // set initial active link
            navLinks.forEach((link) => link.classList.remove('active-link'));
            navLinks[0].classList.add('active-link');

            // Create an IntersectionObserver to track sections
            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        const navLink = document.querySelector(
                            `.about-nav-link[href="#${entry.target.id}"]`
                        );

                        if (entry.isIntersecting) {
                            navLinks.forEach((link) => link.classList.remove('active-link'));
                            navLink.classList.add('active-link');
                        }
                    });
                },
                { threshold: 0.9 } // Adjust threshold as needed
            );

            // Observe all sections
            sections.forEach((section) => observer.observe(section));
        });

        document.addEventListener('DOMContentLoaded', () => {
            const years = document.querySelectorAll(".timeline-year");
            const headers = document.querySelectorAll("#history .history-content h2");

            // Position the years to align with the headers
            headers.forEach((header, index) => {
                const yearElement = years[index];

                // Get the position of the header relative to the document
                const headerRect = header.getBoundingClientRect();
                const headerPosition = headerRect.top + window.scrollY;

                // Get the position of the timeline container relative to the document
                const timelineContainer = document.querySelector('.timeline-container');
                const timelineRect = timelineContainer.getBoundingClientRect();
                const timelinePosition = timelineRect.top + window.scrollY;

                // Calculate the top position for the year element
                const yearTop = headerPosition - timelinePosition;

                yearElement.style.top = `${yearTop}px`;
            });

            // Intersection Observer to activate the years
            const observerOptions = {
                root: null,
                threshold: 0.5,
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    const yearId = `year-${entry.target.id}`;
                    const yearElement = document.getElementById(yearId);

                    if (entry.isIntersecting) {
                        yearElement.classList.add("active");
                    } else {
                        yearElement.classList.remove("active");
                    }
                });
            }, observerOptions);

            // Observe the headers
            headers.forEach((header) => observer.observe(header));
        });

        document.querySelectorAll('.timeline-year').forEach(yearLink => {
            yearLink.addEventListener('click', function (event) {
                event.preventDefault(); // Prevent the default anchor behavior

                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                const headerOffset = 200; // Adjust this value to match your header's height plus some padding

                if (targetElement) {
                    const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                    const offsetPosition = elementPosition - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });
                }
            });
        });




    </script>

</body>



</html>